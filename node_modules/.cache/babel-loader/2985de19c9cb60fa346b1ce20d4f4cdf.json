{"ast":null,"code":"var _jsxFileName = \"/Users/dyomacbook/Desktop/front-end/src/pages/Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react'; //import { useDispatch } from 'react-redux';\n//import { registerUser } from '../../../_actions/user_action';\n\nimport { useNavigate } from \"react-router-dom\";\nimport './Signup.css';\nimport axios from 'axios';\nimport { AuthContext, MessageContext } from '../context/store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signup() {\n  _s();\n\n  //const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    authstate\n  } = useContext(AuthContext);\n  const {\n    notify\n  } = useContext(MessageContext);\n  const [Username, setUsername] = useState(\"\");\n  const [Password, setPassword] = useState(\"\");\n  const [ConfirmPassword, setConfirmPassword] = useState(\"\");\n  useEffect(() => {\n    if (authstate.auth) {\n      //console.log(\"you already login\");\n      navigate('/');\n    } else {//console.log(\"카몬 mate\");\n    }\n  }, []);\n\n  const onUsernameHandler = event => {\n    setUsername(event.target.value);\n  };\n\n  const onPasswordHandler = event => {\n    setPassword(event.target.value);\n  };\n\n  const onConfirmPasswordHandler = event => {\n    setConfirmPassword(event.target.value);\n  };\n\n  const onSubmitHandler = () => {\n    if (!Username || !Password) {\n      notify('username, password 모두 입력해주세요', 'error');\n      return;\n    }\n\n    if (Password !== ConfirmPassword) {\n      notify('비밀번호와 비밀번호 확인은 같아야 합니다.', 'error');\n      return;\n    }\n\n    let body = {\n      username: Username,\n      password: Password\n    };\n    axios.request({\n      method: 'POST',\n      url: 'offchain/auth/register',\n      data: body\n    }).then(res => {\n      //console.log(res.data)\n      notify('회원가입 성공! 로그인하여 사용해주세요.', 'success');\n      navigate('/login');\n    }).catch(err => {\n      if (err.response.status === 409) {\n        notify('이미 존재하는 username 입니다.', 'error');\n      } else {\n        notify('회원가입에 실패했습니다. 다시 시도해주세요', 'error');\n      }\n    });\n  };\n\n  const onKeyPress = e => {\n    if (e.key === 'Enter') {\n      onSubmitHandler();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"username\",\n          value: Username,\n          onChange: onUsernameHandler,\n          placeholder: \"Username\",\n          onKeyPress: onKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: Password,\n          onChange: onPasswordHandler,\n          placeholder: \"Password\",\n          onKeyPress: onKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: ConfirmPassword,\n          onChange: onConfirmPasswordHandler,\n          placeholder: \"Confirm Password\",\n          onKeyPress: onKeyPress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submit\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: onSubmitHandler,\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"Mj6iDLf9WyQ/4RfOkO3aTwxDTMs=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","axios","AuthContext","MessageContext","Signup","navigate","authstate","notify","Username","setUsername","Password","setPassword","ConfirmPassword","setConfirmPassword","auth","onUsernameHandler","event","target","value","onPasswordHandler","onConfirmPasswordHandler","onSubmitHandler","body","username","password","request","method","url","data","then","res","catch","err","response","status","onKeyPress","e","key"],"sources":["/Users/dyomacbook/Desktop/front-end/src/pages/Signup.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\n//import { useDispatch } from 'react-redux';\n//import { registerUser } from '../../../_actions/user_action';\nimport { useNavigate } from \"react-router-dom\";\nimport './Signup.css'\nimport axios from 'axios';\nimport { AuthContext, MessageContext } from '../context/store';\n\nexport default function Signup() {\n  //const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {authstate} = useContext(AuthContext);\n  const {notify} = useContext(MessageContext);\n\n  const [Username, setUsername] = useState(\"\")\n  const [Password, setPassword] = useState(\"\")\n  const [ConfirmPassword, setConfirmPassword] = useState(\"\")\n\n\n  useEffect(() => {\n\n    if(authstate.auth){\n      //console.log(\"you already login\");\n      navigate('/');\n\n  \n    }else{\n      //console.log(\"카몬 mate\");\n    }\n  \n  }, [])\n\n\n  const onUsernameHandler = (event) => {\n    setUsername(event.target.value);\n}\n\n  const onPasswordHandler = (event) => {\n      setPassword(event.target.value)\n  }\n\n  const onConfirmPasswordHandler = (event) => {\n      setConfirmPassword(event.target.value)\n  }\n\n\n  const onSubmitHandler = () => {\n\n    if(!Username || !Password) {\n      notify('username, password 모두 입력해주세요', 'error')\n      return;\n    }\n\n    if (Password !== ConfirmPassword) {\n        notify('비밀번호와 비밀번호 확인은 같아야 합니다.','error')\n        return;\n    }\n\n    let body = {\n        username: Username,\n        password: Password,\n    }\n\n    axios.request({\n      method:'POST',\n      url:'offchain/auth/register',\n      data: body\n    })\n    .then((res) => {\n      //console.log(res.data)\n      notify('회원가입 성공! 로그인하여 사용해주세요.', 'success')\n      navigate('/login');\n    })\n    .catch((err) => {\n      if(err.response.status === 409) {\n        notify('이미 존재하는 username 입니다.', 'error')\n      }\n      else{\n        notify('회원가입에 실패했습니다. 다시 시도해주세요','error')\n      }\n    })\n  }\n\n  const onKeyPress = (e) => {\n    if(e.key === 'Enter'){\n      onSubmitHandler();\n    }\n  }\n\n\n\n  return (\n    <div className='signup'>\n    <div className='form_container'>\n      <div className='title'>Signup</div>\n      <div className='inputs'>\n        <input type=\"username\" value={Username} onChange={onUsernameHandler} placeholder=\"Username\" onKeyPress={onKeyPress}/>\n        <input type=\"password\" value={Password} onChange={onPasswordHandler}  placeholder=\"Password\" onKeyPress={onKeyPress}/>\n        <input type=\"password\" value={ConfirmPassword} onChange={onConfirmPasswordHandler} placeholder=\"Confirm Password\" onKeyPress={onKeyPress}/>\n      </div>\n      <div className='submit'>\n        <button type=\"submit\" onClick={onSubmitHandler}>\n          회원가입\n        </button>\n      </div>\n    </div>\n    </div>\n\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}